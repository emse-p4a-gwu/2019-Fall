---
title: "Week 5: Loops"
subtitle: "EMSE 6574, Section 11 "
author: "John Helveston"
date: September 23, 2019
output:
  xaringan::moon_reader:
    css: classNotes.css
---

# Announcements

--
###What's with this `+` sign in the console?

---
# "Flow Control"

### Flow control is code that alters the otherwise linear flow of operations in a program.
 
--
### Last week:

- `if` statements 
- `else` statements 
<br>

--

### This week:

- `for` loops
- `while` loops
- `break` statements 
- `next` statements 

---
# The `for` loop

--
<br>
.pull-left[
### Basic format:
```{r, eval=FALSE}
for (VALUE in SEQUENCE) {
  STATEMENT1
  STATEMENT2
  ETC
}
```
]
--
.pull-right[
Here's the general idea:

<img src="images/loop_for.png" width="350">
]

---
# Making a sequence

--
### (Side note: these are vectors...that's next week - read ahead!)

--
### Two ways to make a sequence:

--
### 1. Use the `seq()` function
### 2. Use the `:` operator 

<br>

--
```{r}
seq(1, 10)
```

--
```{r}
seq(1, 10, 2)
```

--
```{r}
1:10
```
---
# Sequences don't have to be integers 

--
```{r, eval=FALSE}
1.5:5.5
```
```{r, echo=FALSE}
1.5:5.5
```

--
```{r, eval=FALSE}
seq(1.2, 6, 0.4)
```
```{r, echo=FALSE}
seq(1.2, 6, 0.4)
```

--
You can also loop over a vector of strings (more on vectors next week!)
```{r}
x <- rep('oh hai!', 3)
x
```
--
```{r, eval=FALSE}
for (i in x) {
    cat(i, '\n')
}
```
```
oh hai! 
oh hai! 
oh hai! 
```

---
# Practice: What will this return?

[60 seconds](https://www.youtube.com/watch?v=CH50zuS8DD0) - no typing!

```{r, eval=FALSE}
for (i in 1:5) {
    if ((i %% 2) == 0) {
        cat('--')
    } else if ((i %% 3) == 0) {
        cat('----')
    }
    cat(i, '\n')
}
```
<br>

--
```
1 
--2 
----3 
--4 
5 
```

---
# Practice: What will this return?

[60 seconds](https://www.youtube.com/watch?v=CH50zuS8DD0) - no typing!

```{r, eval=FALSE}
n <- 6
for (i in seq(n)) {
    cat('|')
    for (j in seq(1, n, 2)) {
        cat('*')
    }
    cat('|', '\n')
}
```

<br>

--
```
--***-- 
--***-- 
--***-- 
--***-- 
--***-- 
--***-- 
```

---
# Group practice: sum from `m` to `n`

[20 minutes](https://www.youtube.com/watch?v=kxGWsHYITAw) - In groups of 4, write the following functions:

1) `sumFromMToN(m, n)`: Write a function that sums the total of the integers between `m` and `n`. **Bonus**: Try solving this without a loop (it's possible - Google it!).

- sumFromMToN(5, 10) == (5+6+7+8+9+10)
- sumFromMToN(1, 1) == 1

2) `sumOfOddsFromMToN(m, n)`: Write a function that sums every _odd_ integer between `m` and `n`.

- sumOfOddsFromMToN(4, 10) == (5 + 7 + 9)
- sumOfOddsFromMToN(5, 9) == (5 + 7 + 9)
    
3) `sumEveryKthFromMToN(m, n, k)`: Write a function to sum every kth integer between `m` and `n`.

- sumEveryKthFromMToN(5, 20, 7) == (5 + 12 + 19)
- sumEveryKthFromMToN(1, 10, 2) == (1 + 3 + 5 + 7 + 9)
- sumEveryKthFromMToN(0, 0, 1) == 0

---
# The `while` loop

A friend calls her programmer roommate and says, "while you're out, buy some milk"...

...her roommate never returned home.

<img src="images/laugh_emoji.png" width="100">

---
# The `while` loop

<br>
.pull-left[
### Basic format:
```{r, eval=FALSE}
while (CONDITION) {
  STATEMENT1
  STATEMENT2
  ETC
}
```
]
--
.pull-right[
Here's the general idea:

<img src="images/loop_while.png" width="350">
]

---
# `for` vs. `while`

.pull-left[
### Use `for` loops when there is a _known_ number of iterations. 
]
.pull-right[
### Use `while` loops when there is an _unknown_ number of iterations.
]

---
# Practice: What will this return?

[60 seconds](https://www.youtube.com/watch?v=CH50zuS8DD0) - no typing!

.pull-left[
```{r}
f <- function(x) {
    n = 1
    while (n < x) {
        cat(n, '\n')
        n = 2*n
    }
}
```
```{r, eval=FALSE}
f(5)
f(10)
f(50)
```
]

--
.pull-right[
```{r}
f(5)
f(10)
f(50)
```
]



### `nthMultipleOf4Or7(n)`

Find the nth positive integer that is a multiple of either 4 or 7. Hint: you should write a helper function called `isMultipleOf4Or7(n)` that returns `TRUE` if `n` is a multiple of 4 or 7 and `FALSE` otherwise.

```{r, eval=FALSE}
testNthMultipleOf4Or7 <- function() {
    cat("Testing nthMultipleOf4Or7()...")
    stopifnot(nthMultipleOf4Or7(1) == 4)
    stopifnot(nthMultipleOf4Or7(2) == 7)
    stopifnot(nthMultipleOf4Or7(3) == 8)
    stopifnot(nthMultipleOf4Or7(4) == 12)
    stopifnot(nthMultipleOf4Or7(5) == 14)
    stopifnot(nthMultipleOf4Or7(6) == 16)
    stopifnot(nthMultipleOf4Or7(10) == 28)
    cat("Passed!\n")
}
```












## Prime Numbers

**Background**: Read up on the Wikipedia page on [prime numbers](https://en.wikipedia.org/wiki/Prime_number). We want to write the function `nthPrime(n)`. However, to write that function, we'll first need to write `isPrime(n)`, which determines whether a number is prime or not.

### a) `isPrime(n)`

Write the function `isPrime(n)` which takes a non-negative integer, `n`, and returns `TRUE` if it is a prime number and `FALSE` otherwise.

```{r, eval=FALSE}
testIsPrime <- function() {
    cat("Testing isPrime()...")
    stopifnot(isPrime(1) == FALSE)
    stopifnot(isPrime(2) == TRUE)
    stopifnot(isPrime(7) == TRUE)
    stopifnot(isPrime(13) == TRUE)
    stopifnot(isPrime(14) == FALSE)
    cat("Passed!\n")
}
```

### b) `nthPrime(n)`

Write the function `nthPrime(n)` which takes a non-negative integer, `n`, and returns the nth prime number, where `nthPrime(1)` returns the first prime number (2).

```{r, eval=FALSE}
testNthPrime <- function() {
    cat("Testing nthPrime()...")
    stopifnot(nthPrime(1) == 2)
    stopifnot(nthPrime(2) == 3)
    stopifnot(nthPrime(3) == 5)
    stopifnot(nthPrime(4) == 7)
    stopifnot(nthPrime(7) == 17)
    cat("Passed!\n")
}
```