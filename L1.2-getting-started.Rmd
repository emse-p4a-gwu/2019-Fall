---
title: "Getting Started"
output: html_document
---

```{r setup, echo=FALSE, message=FALSE, warning=FALSE}
rm(list=objects()) # start with a clean workspace
source("knitr_setup.R")
```

---

# R and RStudio

## What's the difference?

R is a programming language that runs computations while RStudio is an *integrated development environment (IDE)* - an interface for working in R with many convenient features and tools.

You can think of the two like this:

* R is like a car's _engine_.
* RStudio is like a car's _dashboard_.

R: Engine            |  RStudio: Dashboard
:-------------------------:|:-------------------------:
![](images/engine.jpg){ width=200 }  |  ![](images/dashboard.jpg){ width=250 }

Your car needs an engine (R) to run, but having a speedometer and rear view mirrors (RStudio) makes driving a lot easier.

## Installing R and RStudio

You will first need to download and install both R and RStudio (Desktop version) on your computer.

1. [Download and install R](https://cloud.r-project.org).
2. [Download and install RStudio](https://www.rstudio.com/products/rstudio/download/preview/).

## Using R via RStudio

After you install R and RStudio on your computer, you'll have two new applications you can open. **We will always work in RStudio**. In other words:

<div class="tableMedium">
R: Do not open this          |  RStudio: Open this
:-------------------------:|:-------------------------:
![](images/Rlogo.png){ width=50 }  |  ![](images/RStudio-Ball.png){ width=50 }
</div>

After you open RStudio, you should see the following:

![](images/rstudio_session.png)

Notice the default panes:

  * Console (entire left)
  * Environment/History (tabbed in upper right)
  * Files/Plots/Packages/Help (tabbed in lower right)

FYI: you can change the default location of the panes, among many other things: [Customizing RStudio](https://support.rstudio.com/hc/en-us/articles/200549016-Customizing-RStudio).

Go into the Console on the left with the `>` (that's the *command prompt*), and let's get started!

---

# R as a calculator

## Operators

R handles the four basic arithmetic operators using these symbols:

- Addition: `+`
- Subtraction: `-`
- Multiplication: `*`
- Division: `/`

For example, try typing `r 10 + 20`, then hit enter. You should see this:

```{r}
10 + 20
```

Not a lot of surprises (for now, ignore the `[1]` you see...we'll get to that).

R also supports three other useful arithmetic operators:

- Powers: `^`
- Integer division: `%/%`
- Modulus: `%%`

**Powers** (i.e. $x$ raised to the power of $n$) are represented using the `^` symbol. For example, to calculate $5^4$ in R, we would type:

```{r}
5^4
```

**Integer** division is division in which the fractional part (remainder) is discarded. Note the difference between regular (`/`) and integer (`%/%`) division:

```{r}
4 / 3 # Regular division
```

```{r}
4 %/% 3 # Integer division
```

With integer division, 3 can only go into 4 once, so `4 %/% 3` returns `1`.

Finally, the **modulus** (aka "mod" operator) simply returns the remainder after doing regular division. For example:

```{r}
17 %% 3
```

returns `2` because because 17 / 3 is equal to 5 with a remainder of 2.

## Order of operations

R follows the typical BEDMAS order of operations. That is, you first calculate things inside **B**rackets, then calculate **E**xponents, then **D**ivision and **M**ultiplication, then **A**ddition and **S**ubtraction. For a more precise statement, see the [operator precedence](http://stat.ethz.ch/R-manual/R-devel/library/base/html/Syntax.html) for R. For example, if I type:

```{r}
1 + 2 * 4
```

R first computes `2 * 4` and then adds `1`. If what you actually wanted was for R to first add `2` to `1`, then you should have added parentheses around `1` and `2`:

```{r}
(1 + 2) * 4
```

A helpful rule of thumb to remember is that **brackets always come first**. So, if you're ever unsure about what order R will do things in, an easy solution is to enclose the thing you want it to do first in brackets.

## R ignores excess spacing

When I typed `10 + 20` before, I could equally have done this

```{r}
10        + 20
```

or this

```{r}
            10   + 20
```

and get exactly the same answer.

## Using comments

In R, the `#` symbol is a special symbol that denotes a comment. R will ignore anything on the same line that follows the `#` symbol. This enables us to write comments around our code to explain what we're doing:

```{r}
2 + 2 # This is a comment explaining that I'm adding two numbers
```

Notice that R ignores the whole sentence after the `#` symbol.

---

# Staying organized

## The history pane

R keeps track of your “command history”. If you hit the up key, the R console will show you the most recent command that you've typed. Hit it again, and it will show you the command before that.

The second way to get access to your command history is to look at the history panel in Rstudio. On the upper right hand side of the Rstudio window you'll see a tab labelled “History”. Click on that, and you'll see a list of all your recent commands displayed in that panel. It should look something like this:

![](images/rstudio_history.png){ width=400 }

If you double click on one of the commands, it will be copied to the R console.

## Working directory

Any process running on your computer has a notion of its "working directory". In R, this is where R will look for files you ask it to load. It's also where any files you write to disk will go.

You can explicitly check your working directory with:

```{r eval = FALSE}
getwd()
```

It is also displayed at the top of the RStudio console.

As a beginning R user, it's OK let your home directory or any other weird directory on your computer be R's working directory. _Very soon_, I urge you to evolve to the next level, where you organize your analytical projects into directories and, when working on project A, set R's working directory to the associated directory.

__Although I do not recommend it__, in case you're curious, you can set R's working directory at the command line like so:

```{r eval = FALSE}
setwd("~/myCoolProject")
```

__Although I do not recommend it__, you can also use RStudio's Files pane to navigate to a directory and then set it as working directory from the menu:

> Session > Set Working Directory > To Files Pane Location.

You'll see even more options there). Or within the Files pane, choose __More__ and __Set As Working Directory__.

But there's a better way. A way that also puts you on the path to managing your R work like an expert.

## RStudio projects

Keeping all the files associated with a project organized together -- input data, R scripts, analytical results, figures -- is such a wise and common practice that RStudio has built-in support for this via its _projects_.

[Using Projects](https://support.rstudio.com/hc/en-us/articles/200526207-Using-Projects)

Let's make one for practice. Do this:

> File > New Project ....

You should see the following pane:

![](images/rstudio_new_project.png){ width=400 }

Choose "New Directory". The directory name you choose here will be the project name. Call it whatever you want. RStudio will create a folder with that name to put all your project files.

As a demo, I created a project on my Desktop called "demo". RStudio created a new project called "demo", and in this folder there is a file called "demo.Rproj". If I double-click on this file, RStudio will open up, and my working directory will be automatically set to this folder! You can double check this by typing:

```{r eval = FALSE}
getwd()
```

## Saving your code in .R Files

It is traditional to save R scripts with a `.R` or `.r` suffix. Any code you wish to re-run again later should be saved in this way and stored within your project folder. For example, if you wanted to re-run all of the code in this tutorial, open a new `.R` file and save it to your R project folder. Do this:

> File > New File > R Script

Copy-paste all of the code we've typed so far into this file:

```{r eval = FALSE}
10 + 20
5^4
4 / 3 # Regular division
4 %/% 3 # Integer division
17 %% 3
1 + 2 * 4
(1 + 2) * 4
10        + 20
10   + 20
2 + 2 # This is a comment explaining that I'm adding two numbers
getwd()
```

Then save this new R script with some name. Do this:

> File > Save

I called the file "tutorial.R" and saved it in my R project folder called "demo".

Now when I open the "demo.Rproj" file, I see in my files pane the "tutorial.R" code script. I can click on that file and continue editing it!

I can also run any line in the script by typing "Command + Enter" (Mac) or "Control + Enter" (Windows).

---

**Page sources**:

Some content on this page has been modified from other courses, including:

- Danielle Navarro's website ["R for Psychological Science"](https://psyr.org/index.html)
- Jenny Bryan's [STAT 545 Course](http://stat545.com/)
